/* ARQUIVO: css/style.css */

/* IMPORTANTE: FONTES */
@import url('https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Bangers&display=swap'); /* NOVA FONTE CARTOON */

/* REMOVE O HIGHLIGHT DE TOQUE NO CELULAR */
* {
    -webkit-tap-highlight-color: transparent; /* Chrome/Safari/Android/iOS */
    outline: none; /* Remove bordas de foco padrão */
    -webkit-touch-callout: none; /* Desabilita menu de contexto de toque longo (iOS) */
}

:root {
    --bg-app: #050505;
    --txt-primary: #ecf0f1; --txt-secondary: #d7ccc8;
    --accent-blue: #00cec9; --accent-red: #ff7675;
    --gold: #ffd700;
    --wood-dark: #3e2723;
    --wood-light: #5d4037;
    --beige-dark: #3e3223;
    --purple-btn: #8e44ad;
    
    /* === ARTES E BACKGROUNDS === */
    --cardback-url: url('https://i.ibb.co/wh3J5mTT/DECK-CAVALEIRO.png');
    --lobby-bg-url: url('https://i.ibb.co/Dfpkhhtr/ARTE-SAGU-O.png');

    /* DEFINIÇÃO DAS MESAS */
    --table-saguao: url('https://i.ibb.co/Dfpkhhtr/ARTE-SAGU-O.png');
    --table-cavaleiro: url('https://i.ibb.co/zhx4QY51/MESA-DE-JOGO.png');
    --table-mago: url('https://i.ibb.co/Z1GNKZGp/MESA-DE-JOGO-MAGO.png');

    /* PADRÃO INICIAL (Cavaleiro) */
    --bg-image-url: var(--table-saguao);
}

body { 
    font-family: 'Montserrat', sans-serif; background-color: var(--bg-app); 
    margin: 0; padding: 0; height: 100vh; overflow: hidden; user-select: none;
}

/* --- FUNDO PRINCIPAL --- */
#game-background {
    position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
    background-image: var(--bg-image-url); 
    background-size: cover; background-position: center; background-repeat: no-repeat;
    z-index: -5; 
    transition: filter 0.5s ease, background-image 0.5s ease-in-out; 
}

/* === LÓGICA DE TEMAS (DYNAMIC BACKGROUND) === */
body.theme-mago #game-background,
#game-background.theme-mago {
    background-image: var(--table-mago) !important;
}

body.theme-cavaleiro #game-background,
#game-background.theme-cavaleiro {
    background-image: var(--table-cavaleiro) !important;
}

#game-background.lobby-mode { 
    background-image: var(--lobby-bg-url) !important; 
    filter: blur(3px); 
}

/* --- UI E CONTROLES --- */
#top-left-controls { position: fixed; top: 15px; left: 15px; z-index: 60000; display: flex; gap: 10px; }
.circle-btn {
    font-size: 0 !important; background: var(--wood-dark); width: 40px; height: 40px;
    border-radius: 50%; display: flex; justify-content: center; align-items: center;
    border: 2px solid var(--gold); box-shadow: 0 4px 10px rgba(0,0,0,0.5); cursor: pointer;
    transition: transform 0.2s; padding: 8px; box-sizing: border-box;
}
.circle-btn:hover { transform: scale(1.1); border-color: #fff; }
.circle-btn svg { width: 100%; height: 100%; fill: #ecf0f1; filter: drop-shadow(0 2px 2px rgba(0,0,0,0.8)); pointer-events: none; }
#btn-config-toggle { display: none; }

/* LOADING SCREEN */
#loading-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 50000;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    transition: opacity 0.5s; opacity: 1; pointer-events: auto;
}
.loader-title { font-family: 'Russo One', sans-serif; color: #fff; font-size: 60px; margin-bottom: 20px; text-shadow: 0 0 20px var(--gold); }
.loader-bar-bg { width: 300px; height: 10px; background: #333; border-radius: 10px; overflow: hidden; border: 1px solid #555; }
.loader-bar-fill { width: 0%; height: 100%; background: var(--gold); transition: width 0.2s; box-shadow: 0 0 10px var(--gold); }
.loader-txt { color: #777; margin-top: 10px; font-size: 12px; font-family: 'Montserrat', sans-serif; }

/* TELAS */
#game-container { max-width: 1600px; margin: 0 auto; height: 100vh; display: flex; flex-direction: column; padding: 0 15px; box-sizing: border-box; position: relative; perspective: 1200px; z-index: 10; opacity: 1 !important; }
.screen { display: none; height: 100%; width: 100%; flex-direction: column; justify-content: space-between; }
.screen.active { display: flex !important; }

/* TELA LOGIN */
#start-screen { justify-content: center !important; align-items: center; gap: 20px; z-index: 10000; background: transparent; overflow: hidden; }
.start-bg-layer {
    position: absolute; top: -10%; left: -10%; width: 120%; height: 120%;
    background-image: var(--bg-image-url); background-size: cover; background-position: center;
    filter: blur(6px) brightness(0.3); z-index: 0; animation: bgZoomFast 3s infinite alternate ease-in-out; 
}
@keyframes bgZoomFast { 0% { transform: scale(1); } 100% { transform: scale(1.15); } }
.game-logo { max-width: 450px; width: 80%; height: auto; filter: drop-shadow(0 10px 20px rgba(0,0,0,0.8)); z-index: 2; position: relative; animation: logoFloat 3s ease-in-out infinite; }
@keyframes logoFloat { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
#btn-login { 
    padding: 15px 40px; font-size: 18px; font-family: 'Russo One', sans-serif; 
    background: var(--purple-btn); color: #fff; border: 2px solid #fff; border-radius: 50px;
    cursor: pointer; box-shadow: 0 5px 15px rgba(142, 68, 173, 0.6); transition: 0.2s;
    text-transform: uppercase; z-index: 2; position: relative; letter-spacing: 1px; min-width: 280px;
}
#btn-login:hover { transform: scale(1.05); box-shadow: 0 0 30px #9b59b6; background: #9b59b6; }

/* TELA SAGUÃO */
#lobby-screen { justify-content: center !important; align-items: flex-start !important; padding-left: 5%; z-index: 10000; position: relative; }
.lobby-logo-right {
    position: fixed; left: 62%; top: 50%; transform: translate(-50%, -50%);
    max-width: 450px; width: 35vw; height: auto;
    filter: drop-shadow(0 10px 30px rgba(0,0,0,0.9)); z-index: 5; pointer-events: none; 
}
.lobby-frame-container {
    position: relative; z-index: 5; width: auto; height: 85vh; 
    display: flex; justify-content: center; align-items: center; animation: frameFloat 4s ease-in-out infinite;
}
@keyframes frameFloat { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
.lobby-frame-img { height: 100%; width: auto; filter: drop-shadow(0 20px 50px rgba(0,0,0,0.8)); display: block; }
.lobby-ui-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    display: flex; flex-direction: column; align-items: center; padding: 22% 14% 14% 14%; 
    box-sizing: border-box; text-align: center; color: #fff;
    text-shadow: 2px 2px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
}
.user-welcome { font-family: 'Russo One'; font-size: 26px; margin-bottom: 5px; text-transform: uppercase; color: #fff; }
.user-stats { color: #ffd700; font-size: 15px; font-weight: 700; margin-bottom: 15px; font-family: 'Russo One'; }
.ranking-scroll { flex-grow: 1; width: 100%; overflow-y: auto; margin-bottom: 15px; scrollbar-width: thin; scrollbar-color: var(--wood-dark) transparent; }
#ranking-table { width: 100%; border-collapse: collapse; font-size: 14px; color: #fff; }
#ranking-table th { text-align: left; padding: 5px; border-bottom: 2px solid #fff; font-family: 'Russo One'; color: var(--gold); text-shadow: 2px 2px 0 #000; }
#ranking-table td { padding: 8px 5px; border-bottom: 1px solid rgba(255,255,255,0.3); font-weight: 700; text-shadow: 1px 1px 0 #000; }
.rank-1 { color: #ffd700 !important; font-size: 16px; } 
#btn-play-match {
    padding: 15px 40px; font-size: 22px; font-family: 'Russo One'; background: #8e44ad; color: #fff; 
    border: 2px solid #fff; border-radius: 50px; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    transition: 0.2s; text-transform: uppercase; margin-bottom: 10px; width: 100%; text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
}
#btn-play-match:hover { transform: scale(1.05); background: #9b59b6; }
#btn-logout { background: rgba(0,0,0,0.4); border: 1px solid #fff; color: #ccc; padding: 8px 20px; border-radius: 30px; cursor: pointer; font-size: 12px; font-family: 'Russo One'; text-transform: uppercase; }
#btn-logout:hover { background: rgba(255,0,0,0.4); color: #fff; }

/* TELA FIM */
#end-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.85); z-index: 20000;
    display: flex; justify-content: center; align-items: center; opacity: 0; pointer-events: none;
    transition: opacity 0.5s ease; backdrop-filter: blur(5px);
}
#end-screen.visible { opacity: 1; pointer-events: auto; }
.end-content { text-align: center; transform: scale(0.8); transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
#end-screen.visible .end-content { transform: scale(1); }
#end-title { font-family: 'Russo One', sans-serif; font-size: 80px; margin-bottom: 30px; text-transform: uppercase; text-shadow: 0 5px 15px rgba(0,0,0,0.5); margin-top: 0; }
.win-theme { color: #ffd700; text-shadow: 0 0 30px rgba(255, 215, 0, 0.6); }
.lose-theme { color: #ff7675; text-shadow: 0 0 30px rgba(255, 118, 117, 0.6); }
.tie-theme { color: #fff; text-shadow: 0 0 30px rgba(255, 255, 255, 0.6); }
.end-btn-row { display: flex; gap: 20px; justify-content: center; }
.big-btn { padding: 20px 50px; font-size: 24px; font-family: 'Russo One', sans-serif; background: #ffd700; color: #000; border: none; border-radius: 50px; cursor: pointer; box-shadow: 0 10px 25px rgba(255, 215, 0, 0.4); transition: transform 0.2s, box-shadow 0.2s; text-transform: uppercase; }
.big-btn:hover { transform: translateY(-5px) scale(1.05); box-shadow: 0 15px 35px rgba(255, 215, 0, 0.6); }
.secondary-btn { background: transparent; border: 3px solid #fff; color: #fff; box-shadow: none; }
.secondary-btn:hover { background: rgba(255,255,255,0.1); box-shadow: 0 0 20px rgba(255,255,255,0.4); color: #fff; }

/* CONFIG E FULLSCREEN */
#btn-fullscreen { position: fixed; bottom: 20px; right: 20px; z-index: 20000; font-size: 28px; cursor: pointer; color: rgba(255, 255, 255, 0.4); transition: 0.3s; background: transparent; border: none; width: auto; height: auto; text-shadow: 0 2px 5px rgba(0,0,0,0.8); }
#btn-fullscreen:hover { color: var(--gold); transform: scale(1.2); text-shadow: 0 0 15px var(--gold); }
#config-panel { position: fixed; top: 65px; left: 15px; z-index: 5000; background: var(--wood-light); border: 3px solid var(--wood-dark); border-radius: 12px; padding: 15px; width: 220px; display: none; flex-direction: column; gap: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.8); color: var(--txt-primary); }
#config-panel.active { display: flex; animation: slideDown 0.2s ease-out; }
#btn-surrender { background: #c0392b; color: #fff; border: 1px solid #e74c3c; padding: 10px; font-family: 'Russo One'; cursor: pointer; border-radius: 5px; text-transform: uppercase; font-size: 12px; width: 100%; }
#btn-surrender:hover { background: #e74c3c; }
@keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
.cfg-row { display: flex; flex-direction: column; gap: 5px; } .cfg-label { color: var(--gold); font-size: 10px; text-transform: uppercase; font-weight: 700; font-family: 'Russo One', sans-serif; } .cfg-slider { width: 100%; cursor: pointer; accent-color: var(--gold); }

/* GAME ELEMENTS */
.deck-area { position: absolute; z-index: 30; width: 120px; height: 170px; border-radius: 12px; display: flex; justify-content: center; align-items: center; flex-direction: column; font-family: 'Russo One', sans-serif; color: #fff; font-size: 10px; background-image: var(--cardback-url); background-size: cover; background-position: center; border: 3px solid var(--wood-dark); box-shadow: 0 10px 25px rgba(0,0,0,0.6); }
.deck-count { position: absolute; bottom: -30px; left: 0; width: 100%; text-align: center; font-size: 14px; color: var(--gold); font-family: 'Russo One', sans-serif; font-weight: 600; text-shadow: 1px 1px 3px #000; }
#m-deck { top: 30px; left: 30px; display: none; } 

/* ---------------------------------------------------------------------- */
/* DECK DO JOGADOR (TEXTO DISCRETO NO CANTO) */
/* ---------------------------------------------------------------------- */
#p-deck-container { 
    position: fixed; 
    bottom: 50px;    
    right: 280px;    
    z-index: 20000;  
    display: flex; 
    align-items: center;
    pointer-events: none; 
}

/* Esconde a imagem do deck */
#p-deck-img { 
    display: none !important; 
}

/* Estilo do Texto do Contador */
#p-deck-count { 
    margin: 0; 
    font-family: 'Russo One', sans-serif;
    font-size: 16px;
    color: var(--gold); 
    text-shadow: 1px 1px 2px #000;
    white-space: nowrap;
}

/* Texto Adicional "cartas restantes..." */
#p-deck-count::after {
    content: " CARTAS RESTANTES NO DECK";
    font-family: 'Montserrat', sans-serif;
    font-weight: 700;
    font-size: 10px;
    color: rgba(255, 255, 255, 0.5); 
    margin-left: 6px;
    vertical-align: middle;
}

/* ---------------------------------------------------------------------- */
/* CLUSTERS - (Container de Vida/Nome) */
/* ---------------------------------------------------------------------- */

/* ESTILO PADRÃO (Base, caso seja usado) */
.avatar-cluster { 
    position: absolute; z-index: 30; 
    background: var(--wood-light); 
    border: 4px solid var(--wood-dark); 
    border-radius: 16px; 
    padding: 12px 20px; 
    display: flex; align-items: center; gap: 15px; 
    box-shadow: 0 15px 40px rgba(0,0,0,0.9), 0 0 15px rgba(255, 215, 0, 0.1); 
    min-width: 270px; 
    animation: hudFloat 4s ease-in-out infinite; 
}

/* ---------------------------------------------------------------------- */
/* HUD DO JOGADOR (INFERIOR ESQUERDO) */
/* ---------------------------------------------------------------------- */
#p-stats-cluster {
    position: fixed;
    bottom: 180px; 
    left: 2px;   
    
    width: 370px; 
    height: 138px;
    
    background-image: url('https://i.ibb.co/tpVT4ymn/Camada-0.png');
    background-size: 100% 100%;
    background-repeat: no-repeat;
    
    background-color: transparent !important;
    border: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    padding: 0 !important;
    min-width: auto !important;
    
    display: block !important;
    z-index: 100;
    
    /* Sombra Sólida Transparente (Cartoon Style) */
    filter: drop-shadow(0 10px 0px rgba(0, 0, 0, 0.5)); 
    
    /* Animação de Flutuar */
    animation: hudFloat 4s ease-in-out infinite;
}

#p-stats-cluster .unit-info { display: contents; }

#p-stats-cluster .lvl-circle {
    position: fixed;
    left: 30px;  
    top: 38px;   
    width: 68px; 
    height: 68px;
    background: transparent; border: none; box-shadow: none;
    color: #fbc531; 
    font-family: 'Russo One', sans-serif;
    font-size: 50px;
    text-shadow: 2px 2px 0 #3c220f, -1px -1px 0 #602d0c, 1px -1px 0 #602d0c, -1px 1px 0 #602d0c, 1px 1px 0 #602d0c;
    display: flex; justify-content: center; align-items: center; margin: 0;
}

#p-stats-cluster .unit-name {
    position: fixed;
    left: 100px; 
    top: 17px;
    width: 210px; 
    font-family: 'MedievalSharp', cursive;
    font-size: 18px;
    color: #3e2723 !important; 
    font-weight: 900;
    text-align: center;
    text-transform: uppercase;
    text-shadow: none;
    margin: 0;
}

#p-stats-cluster .hp-tube {
    position: fixed;
    left: 140px; 
    top: 45px; 
    width: 200px; 
    height: 33px;
    border: 3px solid #260b00;
    background: rgba(0,0,0,0.5); 
    box-shadow: inset 0 0 5px #000;
    border-radius: 25px;
    margin: 0;
}
#p-stats-cluster .hp-txt {
    font-size: 15px; top: -1px; font-weight: bold;
    text-shadow: 1px 1px 0 #000; width: 100%; text-align: center;
}

#p-stats-cluster .mastery-row {
    position: fixed;
    left: 142px; 
    top: 95px;  
    display: flex; gap: 20px; margin: 0; padding: 0; justify-content: flex-start;
}
#p-stats-cluster .mastery-icon {
    width: 32px; height: 32px;
    border: none; background: transparent; box-shadow: none;
    display: flex; justify-content: center; align-items: center;
}
#p-stats-cluster .mastery-lvl {
    bottom: 0; right: 0; width: 14px; height: 14px; font-size: 9px; border: none;
}

/* ---------------------------------------------------------------------- */
/* HUD DO INIMIGO (SUPERIOR DIREITO - ATUALIZADO) */
/* ---------------------------------------------------------------------- */
#m-stats-cluster {
    /* Posição: Topo Direito */
    position: fixed;
    top: 10px;
    right: 2px; 
    
    /* Tamanho e Imagem */
    width: 370px; 
    height: 138px;
    
    background-image: url('https://i.ibb.co/fY7nJm6v/Camada-1.png');
    background-size: 100% 100%;
    background-repeat: no-repeat;
    
    /* Reseta estilos padrão */
    background-color: transparent !important;
    border: none !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    padding: 0 !important;
    min-width: auto !important;
    
    display: block !important;
    z-index: 100;
    
    /* Sombra Sólida Transparente (Cartoon Style) */
    filter: drop-shadow(0 10px 0px rgba(0, 0, 0, 0.5)); 
    
    /* Animação de Flutuar */
    animation: hudFloat 4s ease-in-out infinite;
}

#m-stats-cluster .unit-info { display: contents; }

/* 2. Círculo de Nível (Oponente - Lado Direito) */
#m-stats-cluster .lvl-circle {
    position: fixed;
    right: 30px; /* Espelhado */
    top: 38px;   
    width: 68px; 
    height: 68px;
    background: transparent; border: none; box-shadow: none;
    color: #fbc531; 
    font-family: 'Russo One', sans-serif;
    font-size: 50px;
    text-shadow: 2px 2px 0 #3c220f, -1px -1px 0 #602d0c, 1px -1px 0 #602d0c, -1px 1px 0 #602d0c, 1px 1px 0 #602d0c;
    display: flex; justify-content: center; align-items: center; margin: 0;
}

/* 3. Nome do Oponente */
#m-stats-cluster .unit-name {
    position: fixed;
    right: 100px; /* Espelhado */
    top: 17px;
    width: 210px; 
    font-family: 'MedievalSharp', cursive;
    font-size: 18px;
    color: #3e2723 !important; 
    font-weight: 900;
    text-align: center;
    text-transform: uppercase;
    text-shadow: none;
    margin: 0;
}

/* 4. Barra de Vida */
#m-stats-cluster .hp-tube {
    position: fixed;
    right: 140px; /* Espelhado */
    top: 45px; 
    width: 200px; 
    height: 33px;
    border: 3px solid #260b00;
    background: rgba(0,0,0,0.5); 
    box-shadow: inset 0 0 5px #000;
    border-radius: 25px;
    margin: 0;
}
#m-stats-cluster .hp-txt {
    font-size: 15px; top: -1px; font-weight: bold;
    text-shadow: 1px 1px 0 #000; width: 100%; text-align: center;
}

/* 5. Maestrias */
#m-stats-cluster .mastery-row {
    position: fixed;
    right: 142px; /* Espelhado */
    top: 95px;  
    display: flex; gap: 20px; margin: 0; padding: 0; justify-content: flex-end;
}
#m-stats-cluster .mastery-icon {
    width: 32px; height: 32px;
    border: none; background: transparent; box-shadow: none;
    display: flex; justify-content: center; align-items: center;
}
#m-stats-cluster .mastery-lvl {
    bottom: 0; right: 0; width: 14px; height: 14px; font-size: 9px; border: none;
}

/* --- ANIMAÇÃO DE FLUTUAÇÃO DO HUD --- */
@keyframes hudFloat { 
    0%, 100% { transform: translateY(0); } 
    50% { transform: translateY(-6px); } 
}

/* --- FIM DAS ALTERAÇÕES --- */

.unit-info { flex-grow: 1; display: flex; flex-direction: column; justify-content: center; }
.unit-name { font-family: 'Russo One', sans-serif; font-size: 16px; margin-bottom: 8px; display: block; text-transform: uppercase; text-shadow: 2px 2px 0 #000; letter-spacing: 1px; }
.lvl-circle { position: relative; width: 60px; height: 60px; flex-shrink: 0; background: linear-gradient(135deg, var(--gold), #cfaa00); border-radius: 50%; display: flex; justify-content: center; align-items: center; font-family: 'Russo One', sans-serif; font-size: 26px; border: 3px solid #8c7200; color: #4a3b2a; z-index: 100; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }

/* === MUDANÇA: ANIMAÇÃO DE LEVEL UP APENAS BOUNCE === */
.level-up-anim { 
    animation: levelPulse 0.5s ease-in-out;
}
@keyframes levelPulse { 
    0% { transform: scale(1); } 
    50% { transform: scale(1.6); } 
    100% { transform: scale(1); } 
}

.hp-tube { width: 100%; height: 22px; background: #222; border-radius: 3px; overflow: hidden; position: relative; border: 3px solid var(--wood-dark); box-shadow: inset 0 5px 10px rgba(0,0,0,0.8); }
.hp-liquid { height: 100%; width: 100%; border-radius: 12px; transition: width 0.4s ease-out, background 0.4s ease; position: relative; }
.hp-liquid::after { content: ''; position: absolute; top: 0; left: 0; bottom: 0; right: 0; background-image: linear-gradient(-45deg, rgba(255,255,255,0.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.2) 50%, rgba(255,255,255,0.2) 75%, transparent 75%, transparent); background-size: 20px 20px; animation: moveLiquid 1s linear infinite; opacity: 0.4; }
@keyframes moveLiquid { 0% { background-position: 0 0; } 100% { background-position: 20px 20px; } }
.hp-txt { position: absolute; width: 100%; top:0; left:0; height: 100%; display: flex; justify-content: center; align-items: center; font-family: 'Russo One', sans-serif; font-size: 12px; color: #fff; text-shadow: 0 1px 3px #000; z-index: 5; }
.mastery-row { display: flex; gap: 8px; margin-top: 10px; justify-content: flex-start; }
.mastery-icon { width: 32px; height: 32px; border-radius: 50%; background: var(--wood-dark); border: 2px solid #ccc; display: flex; justify-content: center; align-items: center; font-size: 16px; position: relative; cursor: help; box-shadow: 0 3px 6px rgba(0,0,0,0.5); transition: transform 0.2s; }
.mastery-icon:hover { transform: scale(1.2); z-index: 10; border-color: #fff !important; }
.mastery-lvl { position: absolute; bottom: -5px; right: -5px; background: var(--gold); color: #000; font-family: 'Russo One', sans-serif; font-size: 10px; width: 16px; height: 16px; border-radius: 50%; display: flex; justify-content: center; align-items: center; border: 1px solid #000; }

/* === ÁREA DE XP (COM NOVA IMAGEM E FLUTUAÇÃO) === */
.xp-area {
    position: absolute;
    left: 50%;
    /* O transform translateX(-50%) foi movido para a animação hudFloatCentered para não conflitar */
    
    /* Dimensões fixas para manter proporção da arte (approx 300x100 para essa imagem) */
    width: 325px;
    height: 105px;
    
    /* Imagem de Fundo NOVA */
    background-image: url('https://i.ibb.co/SXPndxhb/AREA-DE-EXPERIENCIA.png');
    
    /* 'contain' garante que a imagem inteira apareça sem esticar/deformar */
    background-size: contain; 
    
    /* === CORREÇÃO: Alinhamento da Imagem de Fundo === */
    background-position: center center; /* Centraliza a imagem totalmente */
    
    background-repeat: no-repeat;
    background-color: transparent; 

    /* Flex para centralizar as gemas dentro da área da arte */
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* === CORREÇÃO: Alinhamento das Cartas (sobe um pouco) === */
    padding-bottom: 7px; /* Empurra as cartas levemente para cima */

    border: none;
    border-radius: 0;
    box-shadow: none;

    /* Sombra Recortada (Cartoon) */
    filter: drop-shadow(0 10px 5px rgba(0,0,0,0.6));
    z-index: 50;

    /* NOVA ANIMAÇÃO DE FLUTUAÇÃO CENTRALIZADA */
    animation: hudFloatCentered 4s ease-in-out infinite;
}

/* Brilho da área de XP (Adaptado para usar filtro em vez de borda) */
.xp-glow {
    filter: drop-shadow(0 0 15px var(--gold)) drop-shadow(0 0 5px var(--gold)) !important;
    border-color: transparent !important;
    box-shadow: none !important;
}

/* Posicionamento Vertical das Áreas de XP */
#m-xp { top: 25px; }
#p-xp { bottom: 180px; }

/* Nova animação para flutuar elementos centralizados horizontalmente */
@keyframes hudFloatCentered {
    0%, 100% { transform: translateX(-50%) translateY(0); }
    50% { transform: translateX(-50%) translateY(-6px); }
}

/* === CARTAS DE XP (AUMENTADAS) === */
.xp-mini { 
    /* Aumentado de 30x42 para 38x53 para preencher melhor a moldura */
    width: 38px; 
    height: 53px; 
    
    /* Margem para separar as cartas */
    margin: 0 2px; 
    
    position: relative; 
    border: 1px solid #111; 
    border-radius: 3px; 
    box-shadow: 0 4px 8px rgba(0,0,0,0.6); 
    cursor: help; 
    transition: transform 0.2s; 
    background-size: cover; 
    background-position: center; 
}
#m-xp .xp-mini:hover { transform: scale(3.0) translateY(15px); z-index: 3000; } 
#p-xp .xp-mini:hover { transform: scale(3.0) translateY(-15px); z-index: 3000; }

.xp-anim-clone { position: fixed; z-index: 9999; width: 30px; height: 42px; border-radius: 4px; background-size: cover; background-position: center; box-shadow: 0 0 30px var(--gold); pointer-events: none; border: 2px solid var(--gold); }
.xp-fly-up { animation: ghostUp 1.0s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards; } .xp-fly-down { animation: ghostDown 1.0s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards; }
@keyframes ghostUp { 0% { transform: scale(1); opacity: 1; } 40% { transform: scale(1.5); opacity: 1; } 100% { transform: translateY(-150px) scale(2.0); opacity: 0; } }
@keyframes ghostDown { 0% { transform: scale(1); opacity: 1; } 40% { transform: scale(1.5); opacity: 1; } 100% { transform: translateY(150px) scale(2.0); opacity: 0; } }
.middle-area { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; gap: 80px; perspective: 1200px; pointer-events: none; z-index: 10; padding-bottom: 120px; box-sizing: border-box; }
.turn-display { position: absolute; top: 50%; left: 20px; transform: translateY(-50%) rotate(-90deg); transform-origin: left center; font-family: 'Russo One', sans-serif; font-size: 24px; color: var(--gold); opacity: 0.9; letter-spacing: 6px; text-shadow: 2px 2px 0 #000; white-space: nowrap; }
.slot { width: 170px; height: 250px; border: none; display: flex; justify-content: center; align-items: center; background: transparent; transform: rotateX(25deg); transform-style: preserve-3d; perspective: 1000px; pointer-events: auto; }
.slot .card { width: 100% !important; height: 100% !important; margin: 0; border-radius: 16px !important; box-shadow: none; cursor: default; transform: translateZ(0px); border-width: 2px; }
.card-on-table { box-shadow: 0 7px 0 rgba(0,0,0,0.4) !important; transform: translateY(-2px); }
.hand-wrapper { position: absolute; bottom: -25px; left: 0; width: 100%; height: 170px; display: flex; justify-content: center; align-items: flex-end; z-index: 500; pointer-events: none; transform-style: flat; }

/* --- TRAVA DE SEGURANÇA VISUAL (USADA NO JS AGORA) --- */
#player-hand.preparing .card {
    opacity: 0 !important;
    visibility: hidden !important;
}

.card { 
    --rx: 0;
    --ry: 0;
    transition: margin 0.1s, box-shadow 0.1s, transform 0.05s linear, filter 0.1s, opacity 0.5s ease; 
    pointer-events: auto; width: 110px; height: 155px; border-radius: 10px; 
    color: white; border: 2px solid #111; display: flex; flex-direction: column; align-items: center; justify-content: flex-end; 
    box-shadow: 0 10px 30px rgba(0,0,0,0.7); cursor: pointer; position: relative; margin: 0 -8px; 
    transform-style: preserve-3d; background-color: #111; 
    opacity: 1; visibility: visible; 
}

/* --- EFEITO FOIL HOLOGRÁFICO (SUAVIZADO) --- */
.card::after {
    content: "";
    position: absolute; top: 0; left: 0; right: 0; bottom: 0; border-radius: 10px; pointer-events: none; z-index: 15; opacity: 0; transition: opacity 0.2s ease;
    background: linear-gradient(115deg, transparent 25%, rgba(255, 215, 0, 0.15) 35%, rgba(255, 0, 150, 0.15) 45%, rgba(0, 255, 255, 0.15) 55%, rgba(255, 255, 255, 0.25) 70%, transparent 80%);
    background-size: 300% 300%; background-position: calc(50% + (var(--rx) * -200%)) calc(50% + (var(--ry) * -200%));
    mix-blend-mode: color-dodge; 
}
.card:hover::after { opacity: 0.8; }

.card-art { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 7px; overflow: hidden; pointer-events: none; z-index: 2; background-size: cover; background-position: center; }
.flares-container { position: absolute; top: 50%; left: 50%; width: 0; height: 0; z-index: 1; pointer-events: none; }
.flare-spark { position: absolute; background: var(--flare-col, white); border-radius: 50%; box-shadow: 0 0 10px var(--flare-col, white); opacity: 0; }
.card:not(.disabled-card):hover .flare-spark { animation: sparklePop 0.8s infinite; }
.fs-1 { width: 3px; height: 3px; animation-delay: 0s; left: -70px; top: -90px; } .fs-2 { width: 4px; height: 4px; animation-delay: 0.1s; left: 70px; top: -100px; } .fs-3 { width: 2px; height: 2px; animation-delay: 0.2s; left: -80px; top: 60px; } .fs-4 { width: 3px; height: 3px; animation-delay: 0.3s; left: 60px; top: 70px; } .fs-5 { width: 5px; height: 5px; animation-delay: 0.4s; left: 0px; top: -120px; } .fs-6 { width: 2px; height: 2px; animation-delay: 0.15s; left: -50px; top: 50px; } .fs-7 { width: 4px; height: 4px; animation-delay: 0.05s; left: 20px; top: 40px; } .fs-8 { width: 2px; height: 2px; animation-delay: 0.25s; left: -20px; top: -40px; } .fs-9 { width: 5px; height: 5px; animation-delay: 0.1s; left: 40px; top: 0px; } .fs-10 { width: 3px; height: 3px; animation-delay: 0.35s; left: -40px; top: 80px; } .fs-11 { width: 4px; height: 4px; animation-delay: 0.45s; left: 80px; top: -20px; } .fs-12 { width: 2px; height: 2px; animation-delay: 0.5s; left: -80px; top: -10px; } .fs-13 { width: 3px; height: 3px; animation-delay: 0.55s; left: 0px; top: 90px; } .fs-14 { width: 5px; height: 5px; animation-delay: 0.6s; left: 50px; top: -60px; } .fs-15 { width: 2px; height: 2px; animation-delay: 0.0s; left: -60px; top: -60px; } .fs-16 { width: 4px; height: 4px; animation-delay: 0.2s; left: 30px; top: 100px; } .fs-17 { width: 3px; height: 3px; animation-delay: 0.4s; left: -30px; top: 110px; } .fs-18 { width: 2px; height: 2px; animation-delay: 0.1s; left: 10px; top: -110px; } .fs-19 { width: 5px; height: 5px; animation-delay: 0.3s; left: -10px; top: -130px; } .fs-20 { width: 3px; height: 3px; animation-delay: 0.5s; left: 90px; top: 50px; } .fs-21 { width: 2px; height: 2px; animation-delay: 0.15s; left: -90px; top: 20px; } .fs-22 { width: 4px; height: 4px; animation-delay: 0.35s; left: 5px; top: 5px; } .fs-23 { width: 3px; height: 3px; animation-delay: 0.55s; left: -15px; top: -15px; } .fs-24 { width: 2px; height: 2px; animation-delay: 0.05s; left: 65px; top: 85px; } .fs-25 { width: 5px; height: 5px; animation-delay: 0.25s; left: -65px; top: -85px; }
@keyframes sparklePop { 0% { transform: scale(0); opacity: 0; } 50% { opacity: 1; } 100% { transform: scale(1.5) translateY(-20px); opacity: 0; } }
.hand-card:not(.disabled-card):hover { z-index: 10000 !important; margin: 0 30px; box-shadow: 0 0 30px rgba(255, 215, 0, 0.5), 0 50px 100px rgba(0,0,0,1); filter: none !important; }
.disabled-card { filter: grayscale(100%) brightness(0.5) !important; cursor: not-allowed; border-color: #555; }
.disabled-card:hover { margin: 0 30px; }
.flying-card { 
    position: fixed; z-index: 99999; pointer-events: none; transform-origin: center center;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5); border-radius: 10px; border: 2px solid #111; background-color: #111;
    transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
}
.flying-landed { transform: scale(1.0); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
.card-bounce { animation: cardPlayBounce 0.3s ease-out; }
@keyframes cardPlayBounce { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
.floating-text { position: absolute; font-family: 'Russo One', sans-serif; font-size: 36px; text-shadow: 0 4px 10px rgba(0,0,0,0.9); pointer-events: none; animation: floatUp 1.5s forwards; z-index: 200; width: 300px; text-align: center; left: 50%; transform: translateX(-50%); }
@keyframes floatUp { 0% { opacity: 0; top: 20px; transform: translateX(-50%) scale(0.5); } 20% { opacity: 1; top: -30px; transform: translateX(-50%) scale(1.2); } 100% { opacity: 0; top: -80px; transform: translateX(-50%) scale(0.8); } }
#tooltip-box {
    position: fixed; pointer-events: none; z-index: 99999; background: var(--wood-light); border: 3px solid var(--wood-dark); color: var(--gold); padding: 15px 18px; border-radius: 12px; width: 200px; display: none; text-align: left; box-shadow: 0 15px 40px rgba(0,0,0,0.6); font-size: 12px; line-height: 1.5; transform: translateX(-50%);
    animation: tooltipFloat 3s ease-in-out infinite;
}
@keyframes tooltipFloat { 0%, 100% { transform: translateX(-50%) translateY(0); } 50% { transform: translateX(-50%) translateY(-8px); } }
#tt-title { font-family: 'Russo One', sans-serif; font-size: 18px; color: var(--gold); margin: 0 0 12px 0; border-bottom: 2px solid var(--wood-dark); padding-bottom: 8px; text-transform: uppercase; text-align: center; letter-spacing: 1px; text-shadow: 2px 2px 0 #000; }
.tt-desc { font-size: 13px; color: #fff; margin-bottom: 12px; line-height: 1.4; font-weight: 400; }
.tt-cartoon-title { font-family: 'Russo One', sans-serif; font-size: 11px; text-transform: uppercase; margin-top: 12px; margin-bottom: 4px; text-shadow: 1px 1px 0 #000; letter-spacing: 0.5px; border-bottom: 1px dashed rgba(255,255,255,0.2); padding-bottom: 2px; display: inline-block; }
.cartoon-orange { color: #ff9f43; }
.cartoon-purple { color: #a29bfe; }
.tt-text { font-size: 11px; color: #d7ccc8; line-height: 1.3; }
.dynamic-val { display: inline-block; background: #000; color: var(--gold); border: 2px solid var(--gold); border-radius: 4px; padding: 0px 6px; font-family: 'Russo One', sans-serif; font-size: 14px; vertical-align: middle; box-shadow: 0 2px 5px rgba(0,0,0,0.5); margin: 0 2px; }

/* Base do destaque */
.highlight-card { 
    font-weight: 900; 
    font-family: 'Russo One', sans-serif; 
    text-transform: uppercase;
    letter-spacing: 0.5px;
}
.hc-red { color: #ff4757; text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000; }
.hc-blue { color: #00cec9; text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000; }
.hc-green { color: #2ed573; text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000; }
.hc-yellow { color: #ffa502; text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000; }
.hc-purple { color: #a29bfe; text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000; }

.modal-overlay {
    position: fixed; 
    top: 0; left: 0; width: 100%; height: 100%; 
    background: rgba(0, 0, 0, 0.85); /* Mais escuro (85% opacidade) */
    display: none; 
    justify-content: center; 
    align-items: center; 
    
    /* Z-INDEX CRÍTICO: Deve ser maior que o Lobby (10000) e Deck (20000) */
    z-index: 30000 !important; 
    
    /* O efeito de desfoque no fundo */
    backdrop-filter: blur(10px); 
    -webkit-backdrop-filter: blur(10px); /* Compatibilidade Safari/iOS */
}

/* A Caixa Central (Janela) */
.matchmaking-box, .modal-box { 
    background: var(--wood-light); /* Fundo de madeira */
    padding: 40px; 
    border-radius: 20px; 
    border: 4px solid var(--wood-dark); /* Borda grossa */
    text-align: center; 
    min-width: 350px; 
    
    /* Sombra forte para dar destaque e profundidade */
    box-shadow: 0 0 60px rgba(0,0,0,1); 
    
    position: relative;
    z-index: 30001; /* Fica acima do próprio fundo escuro */
}

/* Ajuste específico para a logo não vazar (segurança extra) */
.lobby-logo-right {
    z-index: 20; /* Garante que a logo fique abaixo do overlay 30000 */
}
#modal-title { color: var(--gold) !important; font-weight: 900; font-size: 26px; margin-bottom: 15px; } 
#modal-desc { color: var(--txt-secondary) !important; font-size: 16px; }
.modal-btns { display: flex; gap: 15px; justify-content: center; margin-top: 30px; flex-wrap: wrap; }
.mini-btn { padding: 15px 35px; background: var(--wood-dark); color: var(--gold); border: 2px solid var(--gold); cursor: pointer; border-radius: 50px; font-family: 'Russo One', sans-serif; text-transform: uppercase; transition: 0.2s; }
.mini-btn:hover { background: var(--gold); color: var(--wood-dark); transform: translateY(-3px);}
body.cinematic-active #game-background, body.cinematic-active .middle-area, body.cinematic-active .avatar-cluster, body.cinematic-active .deck-area, body.cinematic-active #p-deck-container, body.cinematic-active .xp-area { filter: blur(8px); }
body.tension-active #game-background, body.tension-active .middle-area, body.tension-active .avatar-cluster, body.tension-active .deck-area, body.tension-active #p-deck-container, body.tension-active .xp-area { filter: blur(8px) grayscale(100%) brightness(0.2); }
body.focus-hand .hand-wrapper .card:not(:hover) { transform: scale(0.95); filter: brightness(0.8); }
body.focus-xp .middle-area, body.focus-xp .avatar-cluster, body.focus-xp .deck-area, body.focus-xp #p-deck-container, body.focus-xp .hand-wrapper { filter: blur(5px) brightness(0.5); opacity: 0.6; }

#lobby-particles { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; overflow: hidden; }
.lobby-flare { position: absolute; background: radial-gradient(circle, #fff 10%, var(--gold) 60%, transparent 100%); border-radius: 50%; opacity: 0; box-shadow: 0 0 15px var(--gold); filter: blur(2px); animation: flareFloat linear infinite both; }
@keyframes flareFloat { 0% { opacity: 0; transform: translateY(0) scale(0.5) rotate(0deg); } 10% { opacity: 0.8; } 80% { opacity: 0.6; } 100% { opacity: 0; transform: translateY(-150px) scale(0) rotate(45deg); } }
#transition-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #050505; z-index: 99999; display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 20px; opacity: 0; pointer-events: none; transition: opacity 0.5s ease-in-out; }
#transition-overlay.active { opacity: 1; pointer-events: auto; }
.trans-logo { max-width: 300px; width: 60%; height: auto; filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.4)); animation: transPulse 1s infinite alternate; }
.trans-text { font-family: 'Russo One', sans-serif; color: var(--txt-secondary); font-size: 14px; letter-spacing: 4px; text-transform: uppercase; opacity: 0.7; }
@keyframes transPulse { from { transform: scale(1); filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.2)); } to { transform: scale(1.05); filter: drop-shadow(0 0 40px rgba(255, 215, 0, 0.6)); } }

/* --- ANIMAÇÃO DE ENTRADA INICIAL (BOUNCE) --- */
@keyframes introBounce {
    0% { transform: translateY(120vh) scale(0.5); opacity: 0; } 
    60% { transform: translateY(-40px) scale(1.1); opacity: 1; }
    80% { transform: translateY(10px) scale(0.95); }
    100% { transform: translateY(0) scale(1); opacity: 1; }
}
.intro-anim {
    /* MUDANÇA CRÍTICA: 'both' garante que a opacidade 0 do 0% seja aplicada DURANTE O DELAY */
    animation: introBounce 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275) both;
    pointer-events: none; 
}

/* =========================================
   SELEÇÃO DE DECK - VERSÃO CORRIGIDA (ZOOM FIX)
========================================= */

#deck-selection-screen {
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100vw; 
    height: 100vh;
    
    background: rgba(0, 0, 0, 0.65); 
    backdrop-filter: blur(12px);
    
    z-index: 15000;
    
    display: none; 
    /* Coluna Centralizada */
    flex-direction: column;
    justify-content: center; 
    align-items: center;
    
    gap: 20px; 
    
    padding: 20px;
    /* TRUQUE: Adiciona espaço invisível embaixo para empurrar o centro visual para CIMA */
    padding-bottom: 10vh; 
    
    box-sizing: border-box;
    
    opacity: 0;
    transition: opacity 0.5s ease;
}

#deck-selection-screen.active {
    display: flex !important;
    opacity: 1;
}

/* Animação Floating para o Título */
@keyframes titleFloat {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

/* Contêiner da Imagem do Título */
.titulo-selecao {
    width: 100%;
    display: flex;
    justify-content: center;
    
    /* ALTERAÇÃO: Puxa o título bem para cima, "fugindo" do centro */
    margin-top: -80px; 
    margin-bottom: 10px;
}

/* A Imagem da Placa (Com animação) */
.img-titulo-placa {
    width: 100%;
    max-width: 600px;
    height: auto;
    display: block;
    filter: drop-shadow(0px 5px 10px rgba(0,0,0,0.5));
    
    /* EFEITO FLUTUANTE ADICIONADO */
    animation: titleFloat 3s ease-in-out infinite;
}

.deck-options-container {
    display: flex; 
    
    /* Gap reduzido para aproximar os decks */
    gap: 30px; 
    
    align-items: center;
    justify-content: center;
    perspective: 1000px; 
    
    /* Margem de segurança para o botão não sobrepor */
    margin-bottom: 80px; 
}

.deck-option {
    position: relative;
    cursor: pointer; 
    transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1);
    background: transparent;
    border: none;
    outline: none;
    padding: 0;
    
    /* Largura aumentada para os decks */
    width: 420px; 
    
    display: flex;
    justify-content: center;
}

/* A IMAGEM (ARTE) */
.deck-option img {
    width: 100%; 
    height: auto; 
    display: block;
    filter: grayscale(100%) brightness(0.6) drop-shadow(0 10px 10px rgba(0,0,0,0.5));
    transform: scale(0.95);
    transition: all 0.4s ease-out;
    border-radius: 0; 
    box-shadow: none !important;
}

/* --- HOVER --- */
.deck-option:hover {
    z-index: 10;
}

.deck-option:hover img {
    transform: scale(1.1) translateY(-10px);
    filter: grayscale(0%) brightness(1.1) drop-shadow(0 0 30px rgba(255, 215, 0, 0.5));
}

/* SLOGAN DO DECK */
.deck-option::after {
    content: attr(data-name);
    position: absolute;
    top: 100%;
    left: 50%;
    transform: translateX(-50%) translateY(20px);
    font-family: 'Montserrat', sans-serif; 
    font-weight: 400;
    font-size: 14px; 
    color: #ecf0f1;
    text-align: center;
    width: 160%; 
    opacity: 0;
    transition: all 0.3s ease;
    pointer-events: none;
    text-shadow: 0 2px 4px rgba(0,0,0,0.8);
}

.deck-option:hover::after {
    opacity: 1;
    transform: translateX(-50%) translateY(10px);
}

/* BOTÃO VOLTAR */
.return-btn {
    /* IMPORTANTE: Margem zerada, posição controlada pelo margin-bottom do container acima */
    margin-top: 0; 
    
    padding: 12px 35px;
    background: transparent;
    border: 1px solid rgba(255,255,255,0.2);
    color: rgba(255,255,255,0.5);
    font-family: 'Montserrat', sans-serif;
    font-weight: 600;
    font-size: 12px;
    letter-spacing: 2px;
    cursor: pointer;
    transition: 0.3s;
    border-radius: 50px;
    text-transform: uppercase;
}

.return-btn:hover {
    color: #fff;
    border-color: #fff;
    background: rgba(255,255,255,0.1);
    box-shadow: 0 0 15px rgba(255,255,255,0.2);
}

/* Ajuste para telas menores (Notebooks) */
@media (max-height: 800px) {
    .deck-option { width: 300px; }
    .img-titulo-placa { max-width: 450px; }
    #deck-selection-screen { gap: 15px; }
}

/* --- NOVO ESTILO LEVEL UP (CARTOON) --- */
.levelup-text {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    font-family: 'Bangers', cursive; /* Fonte Cartoon */
    font-size: 48px;
    color: #fac32d; /* Amarelo Cartoon Claro */
    
    /* Borda Preta Grossa (Outline) */
    -webkit-text-stroke: 2px #000;
    paint-order: stroke fill;
    
    /* Sombra dura para dar profundidade 3D */
    text-shadow: 4px 4px 0 #000;
    
    white-space: nowrap;
    z-index: 500;
    pointer-events: none;
    opacity: 0;
}

/* Animação para o JOGADOR (Sobe) */
.lvl-anim-up {
    top: -20px;
    animation: floatLvlUp 2s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

@keyframes floatLvlUp {
    0% { opacity: 0; transform: translateX(-50%) translateY(0) scale(0.5) rotate(-5deg); }
    20% { opacity: 1; transform: translateX(-50%) translateY(-30px) scale(1.2) rotate(0deg); } /* Pop! */
    100% { opacity: 0; transform: translateX(-50%) translateY(-120px) scale(1.0); } /* Fade out subindo */
}

/* Animação para o INIMIGO (Desce) */
.lvl-anim-down {
    bottom: -20px;
    animation: floatLvlDown 2s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

@keyframes floatLvlDown {
    0% { opacity: 0; transform: translateX(-50%) translateY(0) scale(0.5) rotate(5deg); }
    20% { opacity: 1; transform: translateX(-50%) translateY(30px) scale(1.2) rotate(0deg); } /* Pop! */
    100% { opacity: 0; transform: translateX(-50%) translateY(120px) scale(1.0); } /* Fade out descendo */
}

/* =========================================
   AJUSTES PARA CELULAR (MOBILE RESPONSIVE) - VERSÃO V3 (AMPLIADA)
========================================= */
@media (max-width: 768px) {

    /* Centraliza o Saguão */
    #lobby-screen {
        align-items: center !important;
        justify-content: center !important;
        padding-left: 0 !important;
        overflow: hidden; /* Evita rolagens indesejadas */
    }

    /* === MOLDURA DE MADEIRA (AUMENTADA) === */
    .lobby-frame-container {
        /* Ocupa quase toda a largura */
        width: 95vw;         
        /* Aumentei o limite para não travar em telas maiores de celular */
        max-width: 550px;    
        height: auto;       
        /* Altura segura para caber na tela sem corte */
        max-height: 80vh;    
        /* Espaço no topo para a Logo */
        margin-top: 80px;    
        
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .lobby-frame-img {
        max-width: 100%;
        max-height: 100%;
        width: auto;
        height: auto;
        object-fit: contain; 
    }

    /* === CONTEÚDO INTERNO (REAUSTADO PARA O TAMANHO MAIOR) === */
    .lobby-ui-overlay {
        /* Padding ajustado para a nova escala */
        padding: 28% 14% 12% 14%; 
    }

    /* Fontes maiores para preencher melhor o quadro */
    .user-welcome { font-size: 22px; margin-bottom: 5px; }
    .user-stats { font-size: 13px; margin-bottom: 12px; }
    
    /* Tabela legível */
    #ranking-table { font-size: 13px; }
    #ranking-table th, #ranking-table td { padding: 6px 4px; }
    .ranking-scroll { margin-bottom: 15px; max-height: 180px; }

    /* Botão JOGAR maior e mais fácil de clicar */
    #btn-play-match {
        font-size: 20px;
        padding: 12px 0;
        width: 90%;
        margin-bottom: 8px;
    }
    
    #btn-logout {
        font-size: 11px;
        padding: 6px 18px;
    }

    /* === LOGO DO TOPO (BEM MAIOR) === */
    .lobby-logo-right {
        left: 50%;
        top: 5%; /* Posição no topo */
        transform: translate(-50%, 0);
        width: 410px; /* Aumentado significativamente */
        position: absolute;
        z-index: 20;
    }
}

/* =========================================
   NOVOS BOTÕES DO LOBBY E MATCHMAKING
========================================= */

.lobby-btn-row {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 10px;
    align-items: center;
}

/* BOTÃO PvP (O Principal - Dourado) */
#btn-play-pvp {
    width: 100%;
    background: linear-gradient(180deg, #f1c40f 0%, #f39c12 100%);
    border: 2px solid #fff;
    border-radius: 50px;
    padding: 12px 0;
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(243, 156, 18, 0.4);
    transition: transform 0.2s, filter 0.2s;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-shadow: 1px 1px 0 rgba(255,255,255,0.4);
    animation: pulseGold 2s infinite;
}

#btn-play-pvp:hover {
    transform: scale(1.05);
    filter: brightness(1.1);
}

#btn-play-pvp .btn-title {
    font-family: 'Russo One', sans-serif;
    font-size: 22px;
    color: #5d4037; /* Marrom Escuro */
    text-transform: uppercase;
}

#btn-play-pvp .btn-sub {
    font-family: 'Montserrat', sans-serif;
    font-size: 10px;
    font-weight: 800;
    color: #8e44ad; /* Roxo para destacar */
    margin-top: -2px;
}

@keyframes pulseGold {
    0% { box-shadow: 0 0 0 0 rgba(241, 196, 15, 0.7); }
    70% { box-shadow: 0 0 0 10px rgba(241, 196, 15, 0); }
    100% { box-shadow: 0 0 0 0 rgba(241, 196, 15, 0); }
}

/* BOTÃO PvE (O Secundário - Roxo) */
#btn-play-pve {
    width: 90%; /* Um pouco menor que o PvP */
    background: #8e44ad;
    border: 2px solid rgba(255,255,255,0.3);
    border-radius: 50px;
    padding: 8px 0;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    transition: 0.2s;
}

#btn-play-pve:hover {
    background: #9b59b6;
    transform: scale(1.02);
}

#btn-play-pve .btn-title {
    font-family: 'Russo One', sans-serif;
    font-size: 16px;
    color: #ecf0f1;
}

#btn-play-pve .btn-sub {
    font-family: 'Montserrat', sans-serif;
    font-size: 9px;
    color: #bdc3c7;
}

/* TELA DE MATCHMAKING */
.matchmaking-box {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    min-width: 300px;
}

.mm-title {
    font-family: 'Russo One', sans-serif;
    font-size: 24px;
    color: var(--gold);
    text-transform: uppercase;
    text-shadow: 2px 2px 0 #000;
    margin-top: 10px;
    text-align: center;
}

.mm-desc {
    font-family: 'Montserrat', sans-serif;
    font-size: 14px;
    color: #ddd;
    text-align: center;
    max-width: 250px;
}

.mm-timer {
    font-family: 'Russo One', sans-serif;
    font-size: 32px;
    color: #fff;
    margin: 10px 0;
}

.cancel-btn {
    background: #c0392b !important;
    border-color: #e74c3c !important;
    font-size: 12px;
    color: #fff !important;
}
.cancel-btn:hover { background: #e74c3c !important; }

/* Animação de Radar */
.radar-spinner {
    width: 60px;
    height: 60px;
    border: 4px solid rgba(255, 215, 0, 0.3);
    border-top: 4px solid var(--gold);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* Ajuste Mobile para os botões */
@media (max-width: 768px) {
    #btn-play-pvp .btn-title { font-size: 18px; }
    #btn-play-pve .btn-title { font-size: 14px; }
    .lobby-btn-row { gap: 8px; }
}


/* =========================================
   AVISO DE ROTAÇÃO (IOS/MOBILE)
========================================= */

#rotate-overlay {
    display: none; /* Escondido por padrão */
    position: fixed;
    top: 0; left: 0; width: 100vw; height: 100vh;
    background-color: #000;
    z-index: 999999; /* Fica acima de TUDO */
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: var(--gold);
    font-family: 'Russo One', sans-serif;
    font-size: 24px;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 2px;
}

/* REGRA MÁGICA: Só aparece se o jogo começou E a tela estiver em pé */
@media (max-width: 900px) and (orientation: portrait) {
    body.force-landscape #rotate-overlay {
        display: flex !important;
    }
}

/* Efeito de Carta Selecionada na Mão (Aguardando oponente) */
.card-selected {
    border: 3px solid var(--accent-blue) !important;
    box-shadow: 0 0 25px var(--accent-blue), 0 0 50px rgba(0, 206, 201, 0.4) !important;
    transform: translateY(-40px) scale(1.15) !important;
    z-index: 100 !important;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) !important;
}

/* Quando selecionada, ignorar eventos de mouse (para não bugar o hover 3D) */
.card-selected:hover {
    transform: translateY(-40px) scale(1.15) !important;
}
 
 
