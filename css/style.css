/* ARQUIVO: css/style.css */

/* IMPORTANTE: FONTES */
@import url('https://fonts.googleapis.com/css2?family=MedievalSharp&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Bangers&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Russo+One&family=Montserrat:wght@400;600;800;900&display=swap');

/* RESET */
* { -webkit-tap-highlight-color: transparent; outline: none; -webkit-touch-callout: none; box-sizing: border-box; }

:root {
    --bg-app: #1a1a1a;
    --gold: #ffd700;
    --wood-dark: #3e2723;
    --wood-light: #5d4037;
    --purple-btn: #8e44ad;
    /* IMAGENS */
    --cardback-url: url('https://i.ibb.co/wh3J5mTT/DECK-CAVALEIRO.png');
    --lobby-bg-url: url('https://i.ibb.co/Dfpkhhtr/ARTE-SAGU-O.png');
    --table-cavaleiro: url('https://i.ibb.co/zhx4QY51/MESA-DE-JOGO.png');
    --table-mago: url('https://i.ibb.co/Z1GNKZGp/MESA-DE-JOGO-MAGO.png');
}

/* O BODY AGORA TEM COR DE FUNDO PARA DISFARÇAR AS BORDAS PRETAS */
body { 
    font-family: 'Montserrat', sans-serif; 
    background-color: #0d0d0d; /* Fundo escuro neutro */
    background-image: radial-gradient(circle, #2c1e15 0%, #000000 100%); /* Gradiente estilo madeira escura */
    margin: 0; padding: 0; 
    height: 100vh; width: 100vw;
    overflow: hidden; 
    user-select: none;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* === CONTAINER MESTRE (FULL HD 1920x1080) === */
#app-scaler {
    width: 1920px;
    height: 1080px;
    position: absolute;
    overflow: hidden;
    background-color: #000;
    box-shadow: 0 0 100px rgba(0,0,0,0.8);
    transform-origin: center center;
    /* Transição suave ao girar a tela */
    transition: transform 0.3s ease-out;
}

/* --- TRUQUE PARA ESCONDER O JOGO QUANDO EM PÉ --- */
@media screen and (orientation: portrait) {
    #app-scaler {
        opacity: 0;
        pointer-events: none;
    }
}

/* --- FUNDO DO JOGO --- */
#game-background {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
    background-image: var(--table-cavaleiro); 
    background-size: cover; background-position: center; 
    z-index: -5; transition: 0.5s;
}
body.theme-mago #game-background { background-image: var(--table-mago) !important; }
#game-background.lobby-mode { background-image: var(--lobby-bg-url) !important; filter: blur(4px); }

/* --- UI ELEMENTS GERAIS --- */
#top-left-controls { position: absolute; top: 25px; left: 25px; z-index: 60000; display: flex; gap: 15px; }
.circle-btn {
    background: var(--wood-dark); width: 70px; height: 70px; border-radius: 50%; 
    display: flex; justify-content: center; align-items: center; border: 3px solid var(--gold); 
    box-shadow: 0 5px 15px rgba(0,0,0,0.5); cursor: pointer; transition: transform 0.2s;
}
.circle-btn:active { transform: scale(0.9); }
.circle-btn svg { width: 60%; height: 60%; fill: #fff; filter: drop-shadow(0 2px 2px rgba(0,0,0,0.8)); }

#btn-fullscreen { position: absolute; bottom: 30px; right: 30px; z-index: 20000; font-size: 50px; color: rgba(255,255,255,0.3); cursor: pointer; }

/* LOADING SCREEN (Sempre visível acima de tudo) */
#loading-screen {
    position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: #000; z-index: 99999;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
}
.loader-title { font-family: 'Russo One'; color: var(--gold); font-size: 80px; margin-bottom: 20px; }
.loader-bar-bg { width: 400px; height: 20px; background: #333; border-radius: 10px; border: 2px solid #555; overflow: hidden; }
.loader-bar-fill { width: 0%; height: 100%; background: var(--gold); transition: width 0.2s; }
.loader-txt { color: #888; margin-top: 15px; font-family: 'Montserrat'; font-size: 18px; }

/* TELAS */
#game-container { width: 100%; height: 100%; position: absolute; top:0; left:0; display: flex; flex-direction: column; z-index: 10; }
.screen { display: none; height: 100%; width: 100%; flex-direction: column; }
.screen.active { display: flex !important; }

/* TELA LOGIN */
#start-screen { justify-content: center; align-items: center; gap: 40px; }
.game-logo { max-width: 800px; width: 80%; animation: logoFloat 3s ease-in-out infinite; filter: drop-shadow(0 20px 30px rgba(0,0,0,0.8)); }
@keyframes logoFloat { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
#btn-login { 
    padding: 25px 70px; font-size: 30px; font-family: 'Russo One'; 
    background: var(--purple-btn); color: #fff; border: 4px solid #fff; border-radius: 70px;
    cursor: pointer; box-shadow: 0 10px 0 #6c3483, 0 20px 20px rgba(0,0,0,0.5); 
    transition: 0.1s; text-transform: uppercase; letter-spacing: 2px;
}
#btn-login:active { transform: translateY(10px); box-shadow: 0 0 0 #6c3483, 0 0 0 rgba(0,0,0,0.5); }

/* TELA SAGUÃO */
#lobby-screen { justify-content: center; align-items: center; }
.lobby-frame-container { position: relative; height: 75%; margin-top: 50px; display: flex; justify-content: center; align-items: center; }
.lobby-frame-img { height: 100%; width: auto; filter: drop-shadow(0 30px 60px rgba(0,0,0,0.9)); }
.lobby-ui-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    display: flex; flex-direction: column; align-items: center; padding: 22% 14% 13% 14%; 
    text-align: center; color: #fff;
}
.user-welcome { font-family: 'Russo One'; font-size: 36px; margin-bottom: 10px; color: #fff; text-transform: uppercase; }
.user-stats { color: var(--gold); font-size: 24px; font-weight: 900; margin-bottom: 25px; font-family: 'Russo One'; }
.ranking-scroll { flex-grow: 1; width: 100%; overflow-y: auto; margin-bottom: 20px; }
#ranking-table { width: 100%; font-size: 20px; color: #fff; border-collapse: collapse; }
#ranking-table td, #ranking-table th { padding: 12px; border-bottom: 1px solid rgba(255,255,255,0.2); }
.rank-1 { color: var(--gold); font-size: 24px; }
#btn-play-match { padding: 20px 0; width: 100%; font-size: 32px; font-family: 'Russo One'; background: #8e44ad; color: #fff; border: 3px solid #fff; border-radius: 50px; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
#btn-logout { margin-top: 10px; background: rgba(0,0,0,0.3); border: 2px solid #aaa; color: #ccc; padding: 10px 30px; border-radius: 30px; cursor: pointer; font-family: 'Russo One'; }

/* SELEÇÃO DE DECK */
#deck-selection-screen {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(10px);
    z-index: 15000; display: none; flex-direction: column; justify-content: center; align-items: center;
}
.img-titulo-placa { width: 60%; max-width: 700px; margin-top: -50px; margin-bottom: 40px; }
.deck-options-container { display: flex; gap: 60px; justify-content: center; align-items: center; margin-bottom: 60px; }
.deck-option { width: 500px; cursor: pointer; transition: 0.3s; position: relative; }
.deck-option img { width: 100%; filter: grayscale(100%) brightness(0.5); transition: 0.3s; }
.deck-option:hover img { filter: grayscale(0%) brightness(1.2) drop-shadow(0 0 40px var(--gold)); transform: scale(1.1) translateY(-20px); }
.return-btn { padding: 20px 50px; font-size: 20px; background: transparent; border: 2px solid rgba(255,255,255,0.3); color: rgba(255,255,255,0.7); border-radius: 50px; cursor: pointer; font-family: 'Russo One'; }

/* TELA DE JOGO */
.middle-area { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; gap: 150px; padding-bottom: 200px; pointer-events: none; }
.slot { width: 240px; height: 340px; display: flex; justify-content: center; align-items: center; pointer-events: auto; }
.hand-wrapper { position: absolute; bottom: -40px; left: 0; width: 100%; height: 250px; display: flex; justify-content: center; align-items: flex-end; z-index: 500; }

/* CARTAS */
.card { 
    width: 170px; height: 240px; border-radius: 15px; border: 4px solid #111; 
    background: #111; position: relative; margin: 0 -15px; box-shadow: 0 10px 30px rgba(0,0,0,0.8);
    transition: 0.2s; cursor: pointer; transform-style: preserve-3d;
}
.card-art { position: absolute; top:0; left:0; width:100%; height:100%; border-radius: 11px; background-size: cover; background-position: center; }
.hand-card:hover { transform: translateY(-80px) scale(1.3) !important; z-index: 9999; margin: 0 60px; box-shadow: 0 0 50px var(--gold); }

/* HUD E STATUS */
.avatar-cluster { 
    position: absolute; background: var(--wood-light); border: 5px solid var(--wood-dark); 
    border-radius: 20px; padding: 20px; display: flex; align-items: center; 
    box-shadow: 0 10px 30px rgba(0,0,0,0.8); width: 500px; height: 160px; 
}
#p-stats-cluster { bottom: 250px; left: 20px; }
#m-stats-cluster { top: 20px; right: 20px; }
.lvl-circle { width: 100px; height: 100px; border-radius: 50%; background: var(--gold); border: 5px solid #8c7200; display: flex; justify-content: center; align-items: center; font-size: 50px; font-family: 'Russo One'; color: #3e2723; position: absolute; }
#p-stats-cluster .lvl-circle { left: -30px; }
#m-stats-cluster .lvl-circle { right: -30px; }

/* === TELA OBRIGATÓRIA DE ROTAÇÃO === */
#rotate-overlay { 
    display: none; 
    position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; 
    background: #000; z-index: 9999999; 
    flex-direction: column; justify-content: center; align-items: center;
}
.rotate-icon { font-size: 80px; color: var(--gold); animation: spin 2s infinite; margin-bottom: 20px; }
.rotate-text { font-family: 'Russo One'; color: #fff; font-size: 24px; text-transform: uppercase; letter-spacing: 2px; text-align: center; }
@keyframes spin { 0% { transform: rotate(0deg); } 25% { transform: rotate(-90deg); } 100% { transform: rotate(-90deg); } }

/* MOSTRA O AVISO APENAS SE A TELA FOR MAIS ALTA QUE LARGA (PORTRAIT) */
@media screen and (orientation: portrait) {
    #rotate-overlay { display: flex !important; }
}
